function ar(e,t,r){return e?t:r()}var d=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},Ye=class{static fromArray(t,r){let n=r||new Ae;for(let i=t.length-1;i>=0;--i)n=new ge(t[i],n);return n}[Symbol.iterator](){return new en(this)}toArray(){return[...this]}atLeastLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return r!==void 0}hasLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return t===-1&&r instanceof Ae}countLength(){let t=this,r=0;for(;t;)t=t.tail,r++;return r-1}};function h(e,t){return new ge(e,t)}function f(e,t){return Ye.fromArray(e,t)}var en=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof Ae)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},Ae=class extends Ye{},ge=class extends Ye{constructor(t,r){super(),this.head=t,this.tail=r}},kt=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,r,n){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=r??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=n??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return Mt(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let r=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<r;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let n=this.bitSize%8;if(n){let i=8-n;if(this.rawBuffer[r]>>i!==t.rawBuffer[r]>>i)return!1}}else{for(let i=0;i<r;i++){let s=Mt(this.rawBuffer,this.bitOffset,i),o=Mt(t.rawBuffer,t.bitOffset,i);if(s!==o)return!1}let n=this.bitSize%8;if(n){let i=Mt(this.rawBuffer,this.bitOffset,r),s=Mt(t.rawBuffer,t.bitOffset,r),o=8-n;if(i>>o!==s>>o)return!1}}return!0}get buffer(){if(Ti("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Ti("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function Mt(e,t,r){if(t===0)return e[r]??0;{let n=e[r]<<t&255,i=e[r+1]>>8-t;return n|i}}var Ci={};function Ti(e,t){Ci[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),Ci[e]=!0)}var jt=class e extends d{static isResult(t){return t instanceof e}},E=class extends jt{constructor(t){super(),this[0]=t}isOk(){return!0}},j=class extends jt{constructor(t){super(),this[0]=t}isOk(){return!1}};function C(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!Ni(n)||!Ni(i)||!tl(n,i)||Yo(n,i)||Xo(n,i)||Ko(n,i)||Qo(n,i)||Zo(n,i)||el(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[l,u]=Jo(n);for(let c of l(n))r.push(u(n,c),u(i,c))}return!0}function Jo(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Yo(e,t){return e instanceof Date&&(e>t||e<t)}function Xo(e,t){return!(e instanceof kt)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Ko(e,t){return Array.isArray(e)&&e.length!==t.length}function Qo(e,t){return e instanceof Map&&e.size!==t.size}function Zo(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function el(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ni(e){return typeof e=="object"&&e!==null}function tl(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function pr(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.function=n,o.fn=n;for(let l in s)o[l]=s[l];return o}var J=class extends d{},U=class extends d{},Q=class extends d{};var K=class extends d{constructor(t){super(),this[0]=t}},le=class extends d{};function qt(e,t,r){return Ii(t,r,e)}var P=class extends d{},Me=class extends d{};function Ut(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=h(i,n)}}}function M(e){return Ut(e,f([]))}function ll(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return M(s);{let o=n.head;e=n.tail,t=i,r=h(i(o),s)}}}function it(e,t){return ll(e,t,f([]))}function ul(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=h(i,n)}}}function Xe(e,t){return ul(M(e),t)}function ne(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function cl(e,t,r,n,i,s){for(;;){let o=e,l=t,u=r,c=n,a=i,p=s,_=h(a,u);if(o.hasLength(0))return c instanceof P?h(M(_),p):h(_,p);{let x=o.head,$=o.tail,v=l(a,x);if(v instanceof Q&&c instanceof Me)e=$,t=l,r=_,n=c,i=x,s=p;else if(v instanceof J&&c instanceof P)e=$,t=l,r=_,n=c,i=x,s=p;else if(v instanceof U&&c instanceof P)e=$,t=l,r=_,n=c,i=x,s=p;else if(v instanceof Q&&c instanceof P){let m=c instanceof P?h(M(_),p):h(_,p);if($.hasLength(0))return h(f([x]),m);{let k=$.head,w=$.tail,b=(()=>{let z=l(x,k);return z instanceof J?new P:z instanceof U?new P:new Me})();e=w,t=l,r=f([x]),n=b,i=k,s=m}}else if(v instanceof J&&c instanceof Me){let m=c instanceof P?h(M(_),p):h(_,p);if($.hasLength(0))return h(f([x]),m);{let k=$.head,w=$.tail,b=(()=>{let z=l(x,k);return z instanceof J?new P:z instanceof U?new P:new Me})();e=w,t=l,r=f([x]),n=b,i=k,s=m}}else{let m=c instanceof P?h(M(_),p):h(_,p);if($.hasLength(0))return h(f([x]),m);{let k=$.head,w=$.tail,b=(()=>{let z=l(x,k);return z instanceof J?new P:z instanceof U?new P:new Me})();e=w,t=l,r=f([x]),n=b,i=k,s=m}}}}}function fl(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return Ut(s,l);if(s.hasLength(0))return Ut(i,l);{let u=i.head,c=i.tail,a=s.head,p=s.tail,_=o(u,a);_ instanceof J?(e=c,t=s,r=o,n=h(u,l)):_ instanceof Q?(e=i,t=p,r=o,n=h(a,l)):(e=i,t=p,r=o,n=h(a,l))}}}function al(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return M(s);if(n.hasLength(1)){let o=n.head;return M(h(M(o),s))}else{let o=n.head,l=n.tail.head,u=n.tail.tail,c=fl(o,l,i,f([]));e=u,t=i,r=h(c,s)}}}function pl(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return Ut(s,l);if(s.hasLength(0))return Ut(i,l);{let u=i.head,c=i.tail,a=s.head,p=s.tail,_=o(u,a);_ instanceof J?(e=i,t=p,r=o,n=h(a,l)):_ instanceof Q?(e=c,t=s,r=o,n=h(u,l)):(e=c,t=s,r=o,n=h(u,l))}}}function dl(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return M(s);if(n.hasLength(1)){let o=n.head;return M(h(M(o),s))}else{let o=n.head,l=n.tail.head,u=n.tail.tail,c=pl(o,l,i,f([]));e=u,t=i,r=h(c,s)}}}function _l(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return f([]);if(n.hasLength(1)&&i instanceof P)return n.head;if(n.hasLength(1)&&i instanceof Me){let o=n.head;return M(o)}else i instanceof P?(e=al(n,s,f([])),t=new Me,r=s):(e=dl(n,s,f([])),t=new P,r=s)}}function Mi(e,t){if(e.hasLength(0))return f([]);if(e.hasLength(1)){let r=e.head;return f([r])}else{let r=e.head,n=e.tail.head,i=e.tail.tail,s=(()=>{let l=t(r,n);return l instanceof J?new P:l instanceof U?new P:new Me})(),o=cl(i,t,f([r]),s,n,f([]));return _l(o,new P,t)}}function Pi(e){return!!e.isOk()}var Ri=new WeakMap,rn=new DataView(new ArrayBuffer(8)),nn=0;function sn(e){let t=Ri.get(e);if(t!==void 0)return t;let r=nn++;return nn===2147483647&&(nn=0),Ri.set(e,r),r}function on(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function un(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Wi(e){rn.setFloat64(0,e);let t=rn.getInt32(0),r=rn.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function Ll(e){return un(e.toString())}function zl(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return sn(e);if(e instanceof Date)return Wi(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+ze(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+ze(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+on(ze(n),ze(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+on(ze(o),un(s))|0}}return r}function ze(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Wi(e);case"string":return un(e);case"bigint":return Ll(e);case"object":return zl(e);case"symbol":return sn(e);case"function":return sn(e);default:return 0}}var De=5,cn=Math.pow(2,De),El=cn-1,Sl=cn/2,Bl=cn/4,ue=0,qe=1,ye=2,ot=3,fn={type:ye,bitmap:0,array:[]};function Ft(e,t){return e>>>t&El}function hr(e,t){return 1<<Ft(e,t)}function Al(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function an(e,t){return Al(e&t-1)}function Ee(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function Cl(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function ln(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Hi(e,t,r,n,i,s){let o=ze(t);if(o===n)return{type:ot,hash:o,array:[{type:ue,k:t,v:r},{type:ue,k:i,v:s}]};let l={val:!1};return Rt(pn(fn,e,o,t,r,l),e,n,i,s,l)}function Rt(e,t,r,n,i,s){switch(e.type){case qe:return Tl(e,t,r,n,i,s);case ye:return pn(e,t,r,n,i,s);case ot:return Nl(e,t,r,n,i,s)}}function Tl(e,t,r,n,i,s){let o=Ft(r,t),l=e.array[o];if(l===void 0)return s.val=!0,{type:qe,size:e.size+1,array:Ee(e.array,o,{type:ue,k:n,v:i})};if(l.type===ue)return C(n,l.k)?i===l.v?e:{type:qe,size:e.size,array:Ee(e.array,o,{type:ue,k:n,v:i})}:(s.val=!0,{type:qe,size:e.size,array:Ee(e.array,o,Hi(t+De,l.k,l.v,r,n,i))});let u=Rt(l,t+De,r,n,i,s);return u===l?e:{type:qe,size:e.size,array:Ee(e.array,o,u)}}function pn(e,t,r,n,i,s){let o=hr(r,t),l=an(e.bitmap,o);if((e.bitmap&o)!==0){let u=e.array[l];if(u.type!==ue){let a=Rt(u,t+De,r,n,i,s);return a===u?e:{type:ye,bitmap:e.bitmap,array:Ee(e.array,l,a)}}let c=u.k;return C(n,c)?i===u.v?e:{type:ye,bitmap:e.bitmap,array:Ee(e.array,l,{type:ue,k:n,v:i})}:(s.val=!0,{type:ye,bitmap:e.bitmap,array:Ee(e.array,l,Hi(t+De,c,u.v,r,n,i))})}else{let u=e.array.length;if(u>=Sl){let c=new Array(32),a=Ft(r,t);c[a]=pn(fn,t+De,r,n,i,s);let p=0,_=e.bitmap;for(let x=0;x<32;x++){if((_&1)!==0){let $=e.array[p++];c[x]=$}_=_>>>1}return{type:qe,size:u+1,array:c}}else{let c=Cl(e.array,l,{type:ue,k:n,v:i});return s.val=!0,{type:ye,bitmap:e.bitmap|o,array:c}}}}function Nl(e,t,r,n,i,s){if(r===e.hash){let o=dn(e,n);if(o!==-1)return e.array[o].v===i?e:{type:ot,hash:r,array:Ee(e.array,o,{type:ue,k:n,v:i})};let l=e.array.length;return s.val=!0,{type:ot,hash:r,array:Ee(e.array,l,{type:ue,k:n,v:i})}}return Rt({type:ye,bitmap:hr(e.hash,t),array:[e]},t,r,n,i,s)}function dn(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(C(t,e.array[n].k))return n;return-1}function _r(e,t,r,n){switch(e.type){case qe:return Il(e,t,r,n);case ye:return Ml(e,t,r,n);case ot:return ql(e,n)}}function Il(e,t,r,n){let i=Ft(r,t),s=e.array[i];if(s!==void 0){if(s.type!==ue)return _r(s,t+De,r,n);if(C(n,s.k))return s}}function Ml(e,t,r,n){let i=hr(r,t);if((e.bitmap&i)===0)return;let s=an(e.bitmap,i),o=e.array[s];if(o.type!==ue)return _r(o,t+De,r,n);if(C(n,o.k))return o}function ql(e,t){let r=dn(e,t);if(!(r<0))return e.array[r]}function _n(e,t,r,n){switch(e.type){case qe:return Dl(e,t,r,n);case ye:return Ul(e,t,r,n);case ot:return Pl(e,n)}}function Dl(e,t,r,n){let i=Ft(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===ue){if(!C(s.k,n))return e}else if(o=_n(s,t+De,r,n),o===s)return e;if(o===void 0){if(e.size<=Bl){let l=e.array,u=new Array(e.size-1),c=0,a=0,p=0;for(;c<i;){let _=l[c];_!==void 0&&(u[a]=_,p|=1<<c,++a),++c}for(++c;c<l.length;){let _=l[c];_!==void 0&&(u[a]=_,p|=1<<c,++a),++c}return{type:ye,bitmap:p,array:u}}return{type:qe,size:e.size-1,array:Ee(e.array,i,o)}}return{type:qe,size:e.size,array:Ee(e.array,i,o)}}function Ul(e,t,r,n){let i=hr(r,t);if((e.bitmap&i)===0)return e;let s=an(e.bitmap,i),o=e.array[s];if(o.type!==ue){let l=_n(o,t+De,r,n);return l===o?e:l!==void 0?{type:ye,bitmap:e.bitmap,array:Ee(e.array,s,l)}:e.bitmap===i?void 0:{type:ye,bitmap:e.bitmap^i,array:ln(e.array,s)}}return C(n,o.k)?e.bitmap===i?void 0:{type:ye,bitmap:e.bitmap^i,array:ln(e.array,s)}:e}function Pl(e,t){let r=dn(e,t);if(r<0)return e;if(e.array.length!==1)return{type:ot,hash:e.hash,array:ln(e.array,r)}}function Vi(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===ue){t(s.v,s.k);continue}Vi(s,t)}}}var Ue=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=_r(this.root,0,ze(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?fn:this.root,s=Rt(i,0,ze(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=_n(this.root,0,ze(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:_r(this.root,0,ze(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){Vi(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+on(ze(r),ze(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((r,n)=>{if(!C(t.get(n,!r),r))throw Gi}),!0}catch(r){if(r===Gi)return!1;throw r}}},Gi=Symbol();var Rl=void 0,Ji={};function be(e){return e.toString()}function zt(e){let t="";for(let r of e)t=t+r;return t}function hn(e,t){return e.startsWith(t)}var Yi=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Gl=new RegExp(`^[${Yi}]*`),Wl=new RegExp(`[${Yi}]*$`);function Xi(e){return e.replace(Gl,"")}function Ki(e){return e.replace(Wl,"")}function Lt(){return Ue.new()}function Dt(e,t){let r=e.get(t,Ji);return r===Ji?new j(Rl):new E(r)}function Ii(e,t,r){return r.set(e,t)}function st(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof jt)return"Result";if(e instanceof Ye)return"List";if(e instanceof kt)return"BitArray";if(e instanceof Ue)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function ts(e){let r=zt(e);return r}function mn(e){let r=Xi(e);return Ki(r)}function rs(e,t){if(e instanceof Ue||e instanceof WeakMap||e instanceof Map){let n={},i=e.get(t,n);return i===n?new E(new le):new E(new K(i))}let r=Number.isInteger(t);if(r&&t>=0&&t<8&&e instanceof Ye){let n=0;for(let i of e){if(n===t)return new E(new K(i));n++}return new j("Indexable")}return r&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new E(new K(e[t])):new E(new le):new j(r?"Indexable":"Dict")}function ns(e){return Number.isInteger(e)?new E(e):new j(0)}function is(e){return typeof e=="string"?new E(e):new j(0)}var Ke=class extends d{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}},Ce=class extends d{constructor(t){super(),this.function=t}};function ut(e,t){let r=t.function(e),n=r[0],i=r[1];return i.hasLength(0)?new E(n):new j(i)}function ct(e){return new Ce(t=>[e,f([])])}function ft(e,t){return new Ce(r=>{let n=e.function(r),i=n[0],s=n[1];return[t(i),s]})}function Kl(e,t,r){for(;;){let n=e,i=t,s=r;if(s.hasLength(0))return i;{let o=s.head,l=s.tail,u=o.function(n),c=u;if(u[1].hasLength(0))return c;e=n,t=i,r=l}}}function Ql(e,t){return new Ce(r=>{let n=e.function(r),i=n;return n[1].hasLength(0)?i:Kl(r,i,t)})}function os(e,t){return f([new Ke(e,st(t),f([]))])}function ls(e,t,r){let n=r(e);return n.isOk()?[n[0],f([])]:[n[0],f([new Ke(t,st(e),f([]))])]}function Zl(e){return C(!0,e)?[!0,f([])]:C(!1,e)?[!1,f([])]:[!1,os("Bool",e)]}function eu(e){return ls(e,"Int",ns)}function $n(e,t){return new Ce(r=>[e,os(t,r)])}var us=new Ce(Zl),$r=new Ce(eu);function tu(e){return ls(e,"String",is)}var Et=new Ce(tu);function mr(e,t){let r=Ql(Et,f([ft($r,be)])),n=it(t,s=>{let o=s,l=ut(o,r);return l.isOk()?l[0]:"<"+st(o)+">"}),i=it(e[1],s=>{let o=s;return new Ke(o.expected,o.found,Xe(n,s.path))});return[e[0],i]}function cs(e,t,r,n,i){for(;;){let s=e,o=t,l=r,u=n,c=i;if(s.hasLength(0)){let a=l(u);return mr(a,M(o))}else{let a=s.head,p=s.tail,_=rs(u,a);if(_.isOk()&&_[0]instanceof K){let x=_[0][0];e=p,t=h(a,o),r=l,n=x,i=c}else{if(_.isOk()&&_[0]instanceof le)return c(u,h(a,o));{let x=_[0],m=[l(u)[0],f([new Ke(x,st(u),f([]))])];return mr(m,M(o))}}}}}function xn(e,t,r){return new Ce(n=>{let i=cs(e,f([]),t.function,n,(a,p)=>{let $=[t.function(a)[0],f([new Ke("Field","Nothing",f([]))])];return mr($,M(p))}),s=i[0],o=i[1],l=r(s).function(n),u=l[0],c=l[1];return[u,Xe(o,c)]})}function wn(e,t){return new Ce(r=>cs(e,f([]),t.function,r,(n,i)=>{let l=[t.function(n)[0],f([new Ke("Field","Nothing",f([]))])];return mr(l,M(i))}))}function xr(e,t,r){return xn(f([e]),t,r)}var Pe=e=>[e],wr=(e,t)=>[e,t],pt=(e,t)=>[...e,t],St=(e,t)=>[t,...e],dt=(e,t)=>[...e,...t],A=(e,t)=>t[e-1],Fe=(e,t,r)=>t.with(e-1,r),T=e=>e.length;var _t=(e,t)=>e.map(t),ht=(e,t)=>e<<t,Gt=(e,t)=>e>>t;function nu(e,t,r,n,i){for(;;){let s=e,o=t,l=r,u=n,c=i;if(l<=u)e=s,t=c(o,A(l,s)),r=l+1,n=u,i=c;else return o}}function ps(e,t,r){let n=T(e);return nu(e,t,2,n,r)}function iu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(o>0)e=i,t=l(s,A(o,i)),r=o-1,n=l;else return s}}function gr(e,t,r){let n=T(e);return iu(e,t,n,r)}var W=class extends d{constructor(t,r){super(),this.size=t,this.children=r}},F=class extends d{constructor(t,r){super(),this.sizes=t,this.children=r}},_e=class extends d{constructor(t){super(),this.children=t}},D=class extends d{constructor(t){super(),this.merged=t}},ce=class extends d{constructor(t,r){super(),this.left=t,this.right=r}};function gn(e){return new _e(e)}function ve(e){if(e instanceof W)return e.size;if(e instanceof _e){let t=e.children;return T(t)}else{let t=e.sizes;return A(T(t),t)}}function $s(e){let t=ve(A(1,e));return ps(e,Pe(t),(r,n)=>{let i=A(T(r),r)+ve(n);return pt(r,i)})}function mt(e,t){let r=$s(t);return new F(r,t)}function xs(e,t,r){for(;;){let n=e,i=t,s=r;if(A(i,n)>s)return i-1;e=n,t=i+1,r=s}}function yr(e,t){if(e instanceof W){let r=e.size,n=e.children;return new W(r,_t(n,i=>yr(i,t)))}else if(e instanceof F){let r=e.sizes,n=e.children;return new F(r,_t(n,i=>yr(i,t)))}else{let r=e.children;return new _e(_t(r,t))}}function vr(e,t,r){if(e instanceof W){let n=e.children;return gr(n,t,(i,s)=>vr(s,i,r))}else if(e instanceof F){let n=e.children;return gr(n,t,(i,s)=>vr(s,i,r))}else{let n=e.children;return gr(n,t,r)}}function tt(e,t){let r=T(t),n=A(r,t),s=ht(1,e)*(r-1)+ve(n);return new W(s,t)}function bn(e,t){let r=T(t),n=ht(1,e),i=$s(t);if((r===1?0:A(r-1,i))===n*(r-1)){let l=A(r,i);return new W(l,t)}else return new F(i,t)}var Te=5;function ws(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof W){let o=n.children,l=Gt(s,i),u=s-ht(l,i);e=A(l+1,o),t=i-Te,r=u}else if(n instanceof F){let o=n.sizes,l=n.children,u=Gt(s,i),c=xs(o,u+1,s),a=c===0?s:s-A(c,o);e=A(c+1,l),t=i-Te,r=a}else{let o=n.children;return A(s+1,o)}}}function kr(e,t,r,n){if(t instanceof W){let i=t.size,s=t.children,o=Gt(r,e),l=r-ht(o,e),u=(()=>{let c=A(o+1,s),a=(p=>kr(e-Te,p,l,n))(c);return(p=>Fe(o+1,s,p))(a)})();return new W(i,u)}else if(t instanceof F){let i=t.sizes,s=t.children,o=Gt(r,e),l=xs(i,o+1,r),u=l===0?r:r-A(l,i),c=(()=>{let a=A(l+1,s),p=(_=>kr(e-Te,_,u,n))(a);return(_=>Fe(l+1,s,_))(p)})();return new F(i,c)}else{let i=t.children,s=Fe(r+1,i,n(A(r+1,i)));return new _e(s)}}var Bt=32;function ds(e,t,r,n,i){let s=T(r),o=A(s,r),l=At(e-Te,o,n,i);if(l instanceof D){let u=l.merged,c=Fe(s,r,u);return new D(tt(e,c))}else if(l instanceof ce&&s<32){let u=l.right,c=pt(r,u);return ve(o)===ht(1,e)?new D(tt(e,c)):new D(mt(e,c))}else{let u=l.right;return new ce(t,tt(e,Pe(u)))}}function At(e,t,r,n){if(t instanceof W&&n instanceof _e){let i=t.children;return ds(e,t,i,r,n)}else if(t instanceof F&&n instanceof _e){let i=t.sizes,s=t.children;return _s(e,t,s,i,r,n)}else if(t instanceof _e&&n instanceof W){let i=n.children;return hs(e,t,r,n,i)}else if(t instanceof _e&&n instanceof F){let i=n.sizes,s=n.children;return ms(e,t,r,n,s,i)}else if(t instanceof _e&&n instanceof _e){let i=t.children,s=n.children;return T(i)+T(s)<=Bt?new D(new _e(dt(i,s))):new ce(t,n)}else if(t instanceof W&&e>r){let i=t.children;return ds(e,t,i,r,n)}else if(t instanceof F&&e>r){let i=t.sizes,s=t.children;return _s(e,t,s,i,r,n)}else if(n instanceof W&&r>e){let i=n.children;return hs(e,t,r,n,i)}else if(n instanceof F&&r>e){let i=n.sizes,s=n.children;return ms(e,t,r,n,s,i)}else if(t instanceof W&&n instanceof W){let i=t.children,s=n.children;if(T(i)+T(s)<=Bt){let l=dt(i,s),u=A(T(i),i);return ve(u)===ht(1,e)?new D(tt(e,l)):new D(mt(e,l))}else return new ce(t,n)}else if(t instanceof W&&n instanceof F){let i=t.children,s=n.children;if(T(i)+T(s)<=Bt){let l=dt(i,s);return new D(mt(e,l))}else return new ce(t,n)}else if(t instanceof F&&n instanceof W){let i=t.children,s=n.children;if(T(i)+T(s)<=Bt){let l=dt(i,s);return new D(mt(e,l))}else return new ce(t,n)}else{let i=t.children,s=n.children;if(T(i)+T(s)<=Bt){let l=dt(i,s);return new D(mt(e,l))}else return new ce(t,n)}}function _s(e,t,r,n,i,s){let o=T(r),l=A(o,r),u=At(e-Te,l,i,s);if(u instanceof D){let c=u.merged,a=Fe(o,r,c),p=A(o,n)+ve(c),_=Fe(o,n,p);return new D(new F(_,a))}else if(u instanceof ce&&o<32){let c=u.right,a=pt(r,c),p=pt(n,A(o,n)+ve(c));return new D(new F(p,a))}else{let c=u.right;return new ce(t,tt(e,Pe(c)))}}function hs(e,t,r,n,i){let s=T(i),o=A(1,i),l=At(e,t,r-Te,o);if(l instanceof D){let u=l.merged,c=Fe(1,i,u);return new D(mt(r,c))}else if(l instanceof ce&&s<32){let u=l.left,c=St(i,u);return new D(mt(r,c))}else{let u=l.left;return new ce(tt(r,Pe(u)),n)}}function ms(e,t,r,n,i,s){let o=T(i),l=A(1,i),u=At(e,t,r-Te,l);if(u instanceof D){let c=u.merged,a=Fe(1,i,c),p=ve(c)-ve(l),_=_t(s,x=>x+p);return new D(new F(_,a))}else if(u instanceof ce&&o<32){let c=u.left,a=St(i,c),p=ve(c),_=(()=>{let $=_t(s,v=>v+p);return St($,p)})();return new D(new F(_,a))}else{let c=u.left;return new ce(tt(r,Pe(c)),n)}}var Qe=class extends d{},Re=class extends d{constructor(t,r){super(),this.shift=t,this.root=r}};function uu(e,t){let r=T(t);if(r===0)return new Qe;if(r===1)return new Re(e,A(1,t));{let n=e+Te;return new Re(n,bn(n,t))}}function bs(){return new Qe}function cu(e){return new Re(0,gn(Pe(e)))}function yn(e,t){if(e instanceof Re){let r=e.shift,n=e.root;return 0<=t&&t<ve(n)?new E(ws(n,r,t)):new j(void 0)}else return new j(void 0)}function Wt(e,t,r){if(e instanceof Re){let n=e.shift,i=e.root;return 0<=t&&t<ve(i)?new Re(n,kr(n,i,t,r)):e}else return e}function vn(e,t,r){return Wt(e,t,n=>r)}function fu(e,t){if(e instanceof Qe)return t;if(t instanceof Qe)return e;{let r=e.shift,n=e.root,i=t.shift,s=t.root,o=r>i?r:i,l=At(r,n,i,s);if(l instanceof D){let u=l.merged;return new Re(o,u)}else{let u=l.left,c=l.right;return uu(o,wr(u,c))}}}function ys(e,t){return fu(e,cu(t))}function kn(e,t){if(e instanceof Qe)return new Qe;{let r=e.shift,n=e.root;return new Re(r,yr(n,t))}}function vs(e,t,r){if(e instanceof Qe)return t;{let n=e.root;return vr(n,t,r)}}function ie(e){return e}function On(e){return e}var jr=class extends d{constructor(t){super(),this.dict=t}};function ks(){return new jr(Lt())}function Ln(e,t){let r=e.dict,n=Dt(r,t);return Pi(n)}var _u=void 0;function js(e,t){return new jr(qt(e.dict,t,_u))}var mu=Ue.new();function Or(){return mu}var $u=ks();function Jt(){return $u}var L=f([]),Lr=new le;var wu=new Q,gu=new J,bu=new U;function zr(e,t){return e.name===t.name?bu:e.name<t.name?gu:wu}var ke=class extends d{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},$t=class extends d{constructor(t,r,n){super(),this.kind=t,this.name=r,this.value=n}},Z=class extends d{constructor(t,r,n,i,s,o,l,u){super(),this.kind=t,this.name=r,this.handler=n,this.include=i,this.prevent_default=s,this.stop_propagation=o,this.immediate=l,this.limit=u}},Er=class extends d{constructor(t){super(),this.kind=t}};function ku(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;if(r.atLeastLength(2)&&r.head instanceof ke&&r.head.name==="class"&&r.tail.head instanceof ke&&r.tail.head.name==="class"){let i=r.head.kind,s=r.head.value,o=r.tail.head.value,l=r.tail.tail,u=s+" "+o,c=new ke(i,"class",u);e=h(c,l),t=n}else if(r.atLeastLength(2)&&r.head instanceof ke&&r.head.name==="style"&&r.tail.head instanceof ke&&r.tail.head.name==="style"){let i=r.head.kind,s=r.head.value,o=r.tail.head.value,l=r.tail.tail,u=s+";"+o,c=new ke(i,"style",u);e=h(c,l),t=n}else{let i=r.head;e=r.tail,t=h(i,n)}}}function Ts(e){let r=Mi(e,(n,i)=>zr(i,n));return ku(r,L)}var Bn=0;function Ns(e,t){return new ke(Bn,e,t)}var An=1;function Is(e,t){return new $t(An,e,t)}var Cn=2;function Ms(e,t,r,n,i,s,o){return new Z(Cn,e,t,r,n,i,s,o)}var Tn=1;var Nn=2;function je(e,t){return Ns(e,t)}function ju(e,t){return Is(e,t)}function Ou(e){return e==="input"||e==="change"||e==="focus"||e==="focusin"||e==="focusout"||e==="blur"?!0:e==="select"}function qs(e,t){return Ms(e,t,L,!1,!1,Ou(e),new Er(0))}function Ds(e){return je("style",ne(e,"",(t,r)=>{let n=r[0],i=r[1];return t+n+":"+i+";"}))}function fe(e){return je("class",e)}function Us(){return fe("")}function In(e){return je("class",ne(e,"",(t,r)=>{let n=r[0],i=r[1];return t===""&&i?n:i?t+" "+n:t}))}function Mn(e){return je("id",e)}function qn(e){return je("type",e)}function Ps(e){return je("value",e)}function Fs(e){return je("placeholder",e)}function Rs(e){return je("for",e)}function Gs(e){return je("href",e)}function Ws(e,t){return t?je(e,""):ju(e,On(!1))}function Dn(e){return Ws("checked",e)}function Un(e){return Ws("autofocus",e)}var Sr=class extends d{constructor(t,r,n){super(),this.synchronous=t,this.before_paint=r,this.after_paint=n}};function Lu(e){return t=>e(t.dispatch)}var Vs=new Sr(f([]),f([]),f([]));function he(){return Vs}function Js(e){let t=Vs;return new Sr(f([Lu(e)]),t.before_paint,t.after_paint)}function ae(){return null}function Ct(e,t){let r=e?.get(t);return r!=null?new E(r):new j(void 0)}function xt(e,t,r){return e??=new Map,e.set(t,r),e}function Pn(e,t){return e?.delete(t),e}var Br=class extends d{},Ar=class extends d{constructor(t,r){super(),this.key=t,this.parent=r}},Fn=class extends d{constructor(t,r){super(),this.index=t,this.parent=r}};function zu(e,t){for(;;){let r=e,n=t;if(n.hasLength(0))return!1;{let i=n.head,s=n.tail;if(hn(r,i))return!0;e=r,t=s}}}function rt(e,t,r){return r===""?new Fn(t,e):new Ar(r,e)}var Rn=new Br,Gn=`
`,Wn="	";function Ys(e,t){for(;;){let r=e,n=t;if(r instanceof Br){if(n.hasLength(0))return"";{let i=n.tail;return ts(i)}}else if(r instanceof Ar){let i=r.key;e=r.parent,t=h(Wn,h(i,n))}else{let i=r.index;e=r.parent,t=h(Gn,h(be(i),n))}}}function Eu(e){return Ys(e,f([]))}function Xs(e,t){return t.hasLength(0)?!1:zu(Eu(e),t)}var Hn="\f";function Vn(e,t){return Ys(e,f([Hn,t]))}var pe=class extends d{constructor(t,r,n,i,s,o){super(),this.kind=t,this.key=r,this.mapper=n,this.children=i,this.keyed_children=s,this.children_count=o}},Se=class extends d{constructor(t,r,n,i,s,o,l,u,c,a){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=s,this.attributes=o,this.children=l,this.keyed_children=u,this.self_closing=c,this.void=a}},We=class extends d{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.mapper=n,this.content=i}},Ne=class extends d{constructor(t,r,n,i,s,o,l){super(),this.kind=t,this.key=r,this.mapper=n,this.namespace=i,this.tag=s,this.attributes=o,this.inner_html=l}};function Au(e,t){return t===""?e==="area"||e==="base"||e==="br"||e==="col"||e==="embed"||e==="hr"||e==="img"||e==="input"||e==="link"||e==="meta"||e==="param"||e==="source"||e==="track"?!0:e==="wbr":!1}function Oe(e){return e instanceof pe?1+e.children_count:1}var Jn=0;function Yn(e,t,r,n,i){return new pe(Jn,e,t,r,n,i)}var Xn=1;function Qt(e,t,r,n,i,s,o,l,u){return new Se(Xn,e,t,r,n,Ts(i),s,o,l,u||Au(n,r))}var Kn=2;function Qn(e,t,r){return new We(Kn,e,t,r)}var Qs=3;function Zs(e,t,r,n,i){for(;;){let s=e,o=t,l=r,u=n,c=i;if(o.hasLength(0))return[M(u),c];if(o.atLeastLength(1)&&o.head instanceof pe&&o.head.key===""){let a=o.head,p=o.tail,_=s+"::"+be(l),x=Zs(_,a.children,0,L,ae()),$=x[0],v=x[1],m=(()=>{let b=a;return new pe(b.kind,b.key,b.mapper,$,v,b.children_count)})(),k=h(m,u),w=l+1;e=s,t=p,r=w,n=k,i=c}else if(o.atLeastLength(1)&&o.head.key!==""){let a=o.head,p=o.tail,_=s+"::"+a.key,x=Zt(_,a),$=h(x,u),v=xt(c,_,x),m=l+1;e=s,t=p,r=m,n=$,i=v}else{let a=o.head,p=o.tail,_=h(a,u),x=l+1;e=s,t=p,r=x,n=_,i=c}}}function Zt(e,t){if(t instanceof Se){let r=t;return new Se(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.children,r.keyed_children,r.self_closing,r.void)}else if(t instanceof We){let r=t;return new We(r.kind,e,r.mapper,r.content)}else if(t instanceof Ne){let r=t;return new Ne(r.kind,e,r.mapper,r.namespace,r.tag,r.attributes,r.inner_html)}else{let r=t.children,n=Zs(e,r,0,L,ae()),i=n[0],s=n[1],o=t;return new pe(o.kind,e,o.mapper,i,s,o.children_count)}}var wt=class extends d{constructor(t,r,n,i){super(),this.index=t,this.removed=r,this.changes=n,this.children=i}},Zn=class extends d{constructor(t,r){super(),this.kind=t,this.content=r}},ei=class extends d{constructor(t,r){super(),this.kind=t,this.inner_html=r}},ti=class extends d{constructor(t,r,n){super(),this.kind=t,this.added=r,this.removed=n}},ri=class extends d{constructor(t,r,n,i){super(),this.kind=t,this.key=r,this.before=n,this.count=i}},ni=class extends d{constructor(t,r,n){super(),this.kind=t,this.key=r,this.count=n}},ii=class extends d{constructor(t,r,n,i){super(),this.kind=t,this.from=r,this.count=n,this.with=i}},si=class extends d{constructor(t,r,n){super(),this.kind=t,this.children=r,this.before=n}},oi=class extends d{constructor(t,r,n){super(),this.kind=t,this.from=r,this.count=n}};function li(e,t,r,n){return new wt(e,t,r,n)}var ui=0;function eo(e){return new Zn(ui,e)}var ci=1;function to(e){return new ei(ci,e)}var fi=2;function ai(e,t){return new ti(fi,e,t)}var Cr=3;function ro(e,t,r){return new ri(Cr,e,t,r)}var pi=4;function no(e,t){return new ni(pi,e,t)}var Tr=5;function di(e,t,r){return new ii(Tr,e,t,r)}var Nr=6;function _i(e,t){return new si(Nr,e,t)}var Ir=7;function io(e,t){return new oi(Ir,e,t)}var Ur=class extends d{constructor(t,r){super(),this.patch=t,this.events=r}},hi=class extends d{constructor(t,r,n){super(),this.added=t,this.removed=r,this.events=n}};function Tu(e,t,r,n){return r==="input"&&t===""?qr(e,n):r==="select"&&t===""?qr(e,n):r==="textarea"&&t===""?qr(e,n):!1}function oo(e,t,r,n,i,s,o,l){for(;;){let u=e,c=t,a=r,p=n,_=i,x=s,$=o,v=l;if(_.hasLength(0)&&x.hasLength(0))return new hi($,v,p);if(_.atLeastLength(1)&&_.head instanceof Z&&x.hasLength(0)){let m=_.head,k=_.head.name,w=_.tail,b=h(m,v),z=Mr(p,c,k);e=u,t=c,r=a,n=z,i=w,s=x,o=$,l=b}else if(_.atLeastLength(1)&&x.hasLength(0)){let m=_.head,k=_.tail,w=h(m,v);e=u,t=c,r=a,n=p,i=k,s=x,o=$,l=w}else if(_.hasLength(0)&&x.atLeastLength(1)&&x.head instanceof Z){let m=x.head,k=x.head.name,w=x.head.handler,b=x.tail,z=h(m,$),g=er(p,a,c,k,w);e=u,t=c,r=a,n=g,i=_,s=b,o=z,l=v}else if(_.hasLength(0)&&x.atLeastLength(1)){let m=x.head,k=x.tail,w=h(m,$);e=u,t=c,r=a,n=p,i=_,s=k,o=w,l=v}else{let m=_.head,k=_.tail,w=x.head,b=x.tail,z=zr(m,w);if(m instanceof ke&&z instanceof U&&w instanceof ke){let g=(()=>{let y=w.name;return y==="value"||y==="checked"?u||m.value!==w.value:y==="selected"&&u||m.value!==w.value})(),B=g?h(w,$):$;e=u,t=c,r=a,n=p,i=k,s=b,o=B,l=v}else if(m instanceof $t&&z instanceof U&&w instanceof $t){let g=(()=>{let y=w.name;return y==="scrollLeft"||y==="scrollRight"?!0:y==="value"?u||!C(m.value,w.value):y==="checked"?u||!C(m.value,w.value):y==="selected"?u||!C(m.value,w.value):!C(m.value,w.value)})(),B=g?h(w,$):$;e=u,t=c,r=a,n=p,i=k,s=b,o=B,l=v}else if(m instanceof Z&&z instanceof U&&w instanceof Z){let g=w.name,B=w.handler,y=m.prevent_default!==w.prevent_default||m.stop_propagation!==w.stop_propagation||m.immediate!==w.immediate||!C(m.limit,w.limit),q=y?h(w,$):$,R=er(p,a,c,g,B);e=u,t=c,r=a,n=R,i=k,s=b,o=q,l=v}else if(m instanceof Z&&z instanceof U){let g=m.name,B=h(w,$),y=h(m,v),q=Mr(p,c,g);e=u,t=c,r=a,n=q,i=k,s=b,o=B,l=y}else if(z instanceof U&&w instanceof Z){let g=w.name,B=w.handler,y=h(w,$),q=h(m,v),R=er(p,a,c,g,B);e=u,t=c,r=a,n=R,i=k,s=b,o=y,l=q}else if(z instanceof U){let g=h(w,$),B=h(m,v);e=u,t=c,r=a,n=p,i=k,s=b,o=g,l=B}else if(z instanceof Q&&w instanceof Z){let g=w.name,B=w.handler,y=h(w,$),q=er(p,a,c,g,B);e=u,t=c,r=a,n=q,i=_,s=b,o=y,l=v}else if(z instanceof Q){let g=h(w,$);e=u,t=c,r=a,n=p,i=_,s=b,o=g,l=v}else if(m instanceof Z&&z instanceof J){let g=m.name,B=h(m,v),y=Mr(p,c,g);e=u,t=c,r=a,n=y,i=k,s=x,o=$,l=B}else{let g=h(m,v);e=u,t=c,r=a,n=p,i=k,s=x,o=$,l=g}}}}function mi(e,t,r,n,i,s,o,l,u,c,a,p,_,x){for(;;){let $=e,v=t,m=r,k=n,w=i,b=s,z=o,g=l,B=u,y=c,q=a,R=p,H=_,se=x;if($.hasLength(0)&&m.hasLength(0))return new Ur(new wt(B,z,q,R),se);if($.atLeastLength(1)&&m.hasLength(0)){let S=$.head,V=$.tail,O=S.key===""||!Ln(w,S.key)?z+Oe(S):z,te=tr(se,y,g,S);e=V,t=v,r=m,n=k,i=w,s=b,o=O,l=g,u=B,c=y,a=q,p=R,_=H,x=te}else if($.hasLength(0)&&m.atLeastLength(1)){let S=uo(se,H,y,g,m),V=_i(m,g-b),O=h(V,q);return new Ur(new wt(B,z,O,R),S)}else if($.atLeastLength(1)&&m.atLeastLength(1)&&$.head.key!==m.head.key){let S=$.head,V=$.tail,O=m.head,te=m.tail,X=Ct(v,O.key),oe=Ct(k,S.key),$e=Ln(w,S.key);if(oe.isOk()&&X.isOk()&&$e)e=V,t=v,r=m,n=k,i=w,s=b-Oe(S),o=z,l=g,u=B,c=y,a=q,p=R,_=H,x=se;else if(oe.isOk()&&X.isOk()){let G=X[0],I=Oe(O),re=g-b,xe=ro(O.key,re,I),we=h(xe,q),Be=js(w,O.key),cr=b+I;e=h(G,$),t=v,r=m,n=k,i=Be,s=cr,o=z,l=g,u=B,c=y,a=we,p=R,_=H,x=se}else if(!oe.isOk()&&X.isOk()){let G=Oe(S),I=b-G,re=tr(se,y,g,S),xe=no(S.key,G),we=h(xe,q);e=V,t=v,r=m,n=k,i=w,s=I,o=z,l=g,u=B,c=y,a=we,p=R,_=H,x=re}else if(oe.isOk()&&!X.isOk()){let G=g-b,I=Oe(O),re=Dr(se,H,y,g,O),xe=_i(f([O]),G),we=h(xe,q);e=$,t=v,r=te,n=k,i=w,s=b+I,o=z,l=g+I,u=B,c=y,a=we,p=R,_=H,x=re}else{let G=Oe(S),I=Oe(O),re=di(g-b,G,O),xe=(()=>{let Be=tr(se,y,g,S);return Dr(Be,H,y,g,O)})();e=V,t=v,r=te,n=k,i=w,s=b-G+I,o=z,l=g+I,u=B,c=y,a=h(re,q),p=R,_=H,x=xe}}else if($.atLeastLength(1)&&$.head instanceof pe&&m.atLeastLength(1)&&m.head instanceof pe){let S=$.head,V=$.tail,O=m.head,te=m.tail,X=g+1,oe=S.children_count,$e=O.children_count,G=nt(H,O.mapper),I=mi(S.children,S.keyed_children,O.children,O.keyed_children,Jt(),b,0,X,-1,y,L,R,G,se),re=(()=>{if(I.patch.removed>0){let we=X+$e-b,Be=io(we,I.patch.removed);return Xe(I.patch.changes,h(Be,q))}else return Xe(I.patch.changes,q)})();e=V,t=v,r=te,n=k,i=w,s=b+$e-oe,o=z,l=X+$e,u=B,c=y,a=re,p=I.patch.children,_=H,x=I.events}else if($.atLeastLength(1)&&$.head instanceof Se&&m.atLeastLength(1)&&m.head instanceof Se&&$.head.namespace===m.head.namespace&&$.head.tag===m.head.tag){let S=$.head,V=$.tail,O=m.head,te=m.tail,X=nt(H,O.mapper),oe=rt(y,g,O.key),$e=Tu(se,O.namespace,O.tag,oe),G=oo($e,oe,X,se,S.attributes,O.attributes,L,L),I=G.added,re=G.removed,xe=G.events,we=I.hasLength(0)&&re.hasLength(0)?L:f([ai(I,re)]),Be=mi(S.children,S.keyed_children,O.children,O.keyed_children,Jt(),0,0,0,g,oe,we,L,X,xe),cr=(()=>{let fr=Be.patch;return fr instanceof wt&&fr.removed===0&&fr.changes.hasLength(0)&&fr.children.hasLength(0)?R:h(Be.patch,R)})();e=V,t=v,r=te,n=k,i=w,s=b,o=z,l=g+1,u=B,c=y,a=q,p=cr,_=H,x=Be.events}else if($.atLeastLength(1)&&$.head instanceof We&&m.atLeastLength(1)&&m.head instanceof We&&$.head.content===m.head.content){let S=$.head,V=$.tail,O=m.head,te=m.tail;e=V,t=v,r=te,n=k,i=w,s=b,o=z,l=g+1,u=B,c=y,a=q,p=R,_=H,x=se}else if($.atLeastLength(1)&&$.head instanceof We&&m.atLeastLength(1)&&m.head instanceof We){let S=$.tail,V=m.head,O=m.tail,te=li(g,0,f([eo(V.content)]),L);e=S,t=v,r=O,n=k,i=w,s=b,o=z,l=g+1,u=B,c=y,a=q,p=h(te,R),_=H,x=se}else if($.atLeastLength(1)&&$.head instanceof Ne&&m.atLeastLength(1)&&m.head instanceof Ne){let S=$.head,V=$.tail,O=m.head,te=m.tail,X=nt(H,O.mapper),oe=rt(y,g,O.key),$e=oo(!1,oe,X,se,S.attributes,O.attributes,L,L),G=$e.added,I=$e.removed,re=$e.events,xe=G.hasLength(0)&&I.hasLength(0)?L:f([ai(G,I)]),we=S.inner_html===O.inner_html?xe:h(to(O.inner_html),xe),Be=we.hasLength(0)?R:h(li(g,0,we,f([])),R);e=V,t=v,r=te,n=k,i=w,s=b,o=z,l=g+1,u=B,c=y,a=q,p=Be,_=H,x=re}else{let S=$.head,V=$.tail,O=m.head,te=m.tail,X=Oe(S),oe=Oe(O),$e=di(g-b,X,O),G=(()=>{let re=tr(se,y,g,S);return Dr(re,H,y,g,O)})();e=V,t=v,r=te,n=k,i=w,s=b-X+oe,o=z,l=g+oe,u=B,c=y,a=h($e,q),p=R,_=H,x=G}}}function Pr(e,t,r){return mi(f([t]),ae(),f([r]),ae(),Jt(),0,0,0,0,Rn,L,L,ie,lo(e))}var Nu=globalThis.HTMLElement&&!!HTMLElement.prototype.moveBefore,Fr=class{#e=null;#n=()=>{};#u=!1;constructor(t,r,{useServerEvents:n=!1}={}){this.#e=t,this.#n=r,this.#u=n}mount(t){this.#e.appendChild(this.#l(t))}#t=[];push(t,r=0){r&&(He(t.changes,n=>{switch(n.kind){case Nr:case Cr:n.before=(n.before|0)+r;break;case Ir:case Tr:n.from=(n.from|0)+r;break}}),He(t.children,n=>{n.index=(n.index|0)+r})),this.#t.push({node:this.#e,patch:t}),this.#s()}#s(){for(;this.#t.length;){let{node:t,patch:r}=this.#t.pop();He(r.changes,n=>{switch(n.kind){case Nr:this.#c(t,n.children,n.before);break;case Cr:this.#p(t,n.key,n.before,n.count);break;case pi:this.#d(t,n.key,n.count);break;case Ir:this.#r(t,n.from,n.count);break;case Tr:this.#f(t,n.from,n.count,n.with);break;case ui:this.#o(t,n.content);break;case ci:this.#_(t,n.inner_html);break;case fi:this.#a(t,n.added,n.removed);break}}),r.removed&&this.#r(t,t.childNodes.length-r.removed,r.removed),He(r.children,n=>{this.#t.push({node:t.childNodes[n.index|0],patch:n})})}}#c(t,r,n){let i=document.createDocumentFragment();He(r,s=>{let o=this.#l(s);$i(t,o),i.appendChild(o)}),t.insertBefore(i,t.childNodes[n|0]??null)}#p(t,r,n,i){let s=t[N].keyedChildren.get(r).deref(),o=t.childNodes[n]??null;for(let l=0;l<i&&s!==null;++l){let u=s.nextSibling;Nu?t.moveBefore(s,o):t.insertBefore(s,o),s=u}}#d(t,r,n){this.#i(t,t[N].keyedChildren.get(r).deref(),n)}#r(t,r,n){this.#i(t,t.childNodes[r|0],n)}#i(t,r,n){for(;n-- >0&&r!==null;){let i=r.nextSibling,s=r[N].key;s&&t[N].keyedChildren.delete(s);for(let[o,{timeout:l}]of r[N].debouncers)window.clearTimeout(l);t.removeChild(r),r=i}}#f(t,r,n,i){this.#r(t,r,n);let s=this.#l(i);$i(t,s),t.insertBefore(s,t.childNodes[r|0]??null)}#o(t,r){t.data=r??""}#_(t,r){t.innerHTML=r??""}#a(t,r,n){He(n,i=>{let s=i.name;t[N].handlers.has(s)?(t.removeEventListener(s,co),t[N].handlers.delete(s),t[N].throttles.has(s)&&t[N].throttles.delete(s),t[N].debouncers.has(s)&&(window.clearTimeout(t[N].debouncers.get(s).timeout),t[N].debouncers.delete(s))):(t.removeAttribute(s),fo[s]?.removed?.(t,s))}),He(r,i=>{this.#h(t,i)})}#l(t){switch(t.kind){case Xn:{let r=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);return Ve(r,t.key),He(t.attributes,n=>{this.#h(r,n)}),this.#c(r,t.children,0),r}case Kn:{let r=document.createTextNode(t.content??"");return Ve(r,t.key),r}case Jn:{let r=document.createDocumentFragment(),n=document.createTextNode("");return Ve(n,t.key),r.appendChild(n),He(t.children,i=>{r.appendChild(this.#l(i))}),r}case Qs:{let r=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);return Ve(r,t.key),He(t.attributes,n=>{this.#h(r,n)}),this.#_(r,t.inner_html),r}}}#h(t,r){switch(r.kind){case Bn:{let n=r.name,i=r.value??"";i!==t.getAttribute(n)&&t.setAttribute(n,i),fo[n]?.added?.(t,i);break}case An:t[r.name]=r.value;break;case Cn:{t[N].handlers.has(r.name)||t.addEventListener(r.name,co,{passive:!r.prevent_default});let n=r.prevent_default,i=r.stop_propagation,s=r.immediate,o=Array.isArray(r.include)?r.include:[];if(r.limit?.kind===Nn){let l=t[N].throttles.get(r.name)??{last:0,delay:r.limit.delay};t[N].throttles.set(r.name,l)}if(r.limit?.kind===Tn){let l=t[N].debouncers.get(r.name)??{timeout:null,delay:r.limit.delay};t[N].debouncers.set(r.name,l)}t[N].handlers.set(r.name,l=>{n&&l.preventDefault(),i&&l.stopPropagation();let u="",c=l.currentTarget;for(;c!==this.#e;){let p=c[N].key;if(p)u=`${Wn}${p}${u}`;else{let _=c.parentNode.childNodes,x=[].indexOf.call(_,c);u=`${Gn}${x}${u}`}c=c.parentNode}u=u.slice(1);let a=this.#u?Iu(l,o):l;if(t[N].throttles.has(l.type)){let p=t[N].throttles.get(l.type),_=Date.now(),x=p.last||0;_>x+p.delay?(p.last=_,this.#n(a,u,l.type,s)):l.preventDefault()}else if(t[N].debouncers.has(l.type)){let p=t[N].debouncers.get(l.type);window.clearTimeout(p.timeout),p.timeout=window.setTimeout(()=>{this.#n(a,u,l.type,s)},p.delay)}else this.#n(a,u,l.type,s)});break}}}};function He(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else if(e)for(e;e.tail;e=e.tail)t(e.head)}var N=Symbol("metadata");function Ve(e,t=""){switch(e.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:e[N]={key:t,keyedChildren:new Map,handlers:new Map,throttles:new Map,debouncers:new Map};break;case Node.TEXT_NODE:e[N]={key:t,debouncers:new Map};break}}function $i(e,t){if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(t=t.firstChild;t;t=t.nextSibling)$i(e,t);return}let r=t[N].key;r&&e[N].keyedChildren.set(r,new WeakRef(t))}function co(e){let r=e.currentTarget[N].handlers.get(e.type);e.type==="submit"&&(e.detail??={},e.detail.formData=[...new FormData(e.target).entries()]),r(e)}function Iu(e,t=[]){let r={};(e.type==="input"||e.type==="change")&&t.push("target.value"),e.type==="submit"&&t.push("detail.formData");for(let n of t){let i=n.split(".");for(let s=0,o=e,l=r;s<i.length;s++){if(s===i.length-1){l[i[s]]=o[i[s]];break}l=l[i[s]]??={},o=o[i[s]]}}return r}var fo={checked:ao("checked"),selected:ao("selected"),value:Mu("value"),autofocus:{added(e){queueMicrotask(()=>e.focus?.())}},autoplay:{added(e){try{e.play?.()}catch(t){console.error(t)}}}};function ao(e){return{added(t,r){t[e]=!0},removed(t){t[e]=!1}}}function Mu(e){return{added(t,r){t[e]=r}}}var qu="http://www.w3.org/1999/xhtml";function _o(e){let t=ho(e);if(t===null||t.children instanceof Ae){let r=document.createTextNode("");return Ve(r),e.appendChild(r),mo()}else{if(t.children instanceof ge&&t.children.tail instanceof Ae)return t.children.head;{let r=document.createTextNode("");return Ve(r),e.insertBefore(r,e.firstChild),nr(t.children)}}}function ho(e){switch(e.nodeType){case Node.ELEMENT_NODE:{let t=e.getAttribute("data-lustre-key");Ve(e,t),t&&e.removeAttribute("data-lustre-key");let r=e.localName,n=e.namespaceURI;!n&&Du.includes(r)&&Uu(r,e);let i=Pu(e),s=po(e),o=!n||n===qu?ee(r,i,s):xi(n,r,i,s);return t?Zt(t,o):o}case Node.TEXT_NODE:return Ve(e),Rr(e.data);case Node.DOCUMENT_FRAGMENT_NODE:return Ve(e),e.childNodes.length>0?nr(po(e)):null;default:return null}}var Du=["input","select","textarea"];function Uu(e,t){window.queueMicrotask(()=>{t.type==="checkbox"&&t.checked?t.dispatchEvent(new Event("change",{bubbles:!0})):t.type==="radio"&&t.checked?t.dispatchEvent(new Event("change",{bubbles:!0})):t.value&&t.dispatchEvent(new Event("input",{bubbles:!0}))})}function po(e){let t=L,r=e.lastChild;for(;r;){let n=ho(r),i=r.previousSibling;n?t=new ge(n,t):e.removeChild(r),r=i}return t}function Pu(e){let t=e.attributes.length,r=L;for(;t-- >0;)r=new ge(Fu(e.attributes[t]),r);return r}function Fu(e){let t=e.localName,r=e.value;return je(t,r)}var sr=()=>globalThis.window&&window.document;var wi=(e,t)=>e===t;var ir=class{initialNodeOffset=0;constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#n=i,this.#u=s,this.#c=new Fr(this.root,(c,a,p)=>{let[_,x]=Gr(this.#s,a,p,c);this.#s=_,x.isOk()&&this.dispatch(x[0],!1)});let o=_o(this.root);this.#t=this.#n(this.#e);let{patch:l,events:u}=Pr(gi(),o,this.#t);this.#s=u,this.#c.push(l,this.initialNodeOffset),this.#a(n,!1)}root=null;dispatch(t,r=!1){if(this.#o||=r,this.#p)this.#d.push(t);else{let[n,i]=this.#u(this.#e,t);this.#e=n,this.#a(i)}}emit(t,r){(this.root.host??this.root).dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0}))}#e;#n;#u;#t;#s;#c;#p=!1;#d=[];#r=L;#i=L;#f=null;#o=!1;#_={dispatch:(t,r)=>this.dispatch(t,r),emit:(t,r)=>this.emit(t,r),select:()=>{},internals:()=>this.root?.host?this.root.host.internals:this.root?.internals};#a(t){for(this.#p=!0;;){for(let r=t.synchronous;r.tail;r=r.tail)r.head(this.#_);if(this.#r=xo(this.#r,t.before_paint),this.#i=xo(this.#i,t.after_paint),!this.#d.length)break;[this.#e,t]=this.#u(this.#e,this.#d.shift())}this.#p=!1,this.#o?(window.cancelAnimationFrame(this.#f),this.#l()):this.#f||(this.#f=window.requestAnimationFrame(()=>{this.#l()}))}#l(){this.#o=!1,this.#f=null;let t=this.#n(this.#e),{patch:r,events:n}=Pr(this.#s,this.#t,t);if(this.#s=n,this.#t=t,this.#c.push(r,this.initialNodeOffset),this.#r instanceof ge){let i=$o(this.#r);this.#r=L,window.queueMicrotask(()=>{this.#o=!0,this.#a(i)})}if(this.#i instanceof ge){let i=$o(this.#i);this.#i=L,window.requestAnimationFrame(()=>{this.#o=!0,this.#a(i)})}}};function $o(e){return{synchronous:e,after_paint:L,before_paint:L}}function xo(e,t){return e instanceof Ae?t:t instanceof Ae?e:Xe(e,t)}var Je=class extends d{constructor(t,r,n){super(),this.handlers=t,this.dispatched_paths=r,this.next_dispatched_paths=n}};function gi(){return new Je(ae(),L,L)}function lo(e){return new Je(e.handlers,e.next_dispatched_paths,L)}function yo(e,t,r){return Pn(e,Vn(t,r))}function Mr(e,t,r){let n=yo(e.handlers,t,r),i=e;return new Je(n,i.dispatched_paths,i.next_dispatched_paths)}function wo(e,t,r){return ne(r,e,(n,i)=>{if(i instanceof Z){let s=i.name;return yo(n,t,s)}else return n})}function Gr(e,t,r,n){let i=h(t,e.next_dispatched_paths),s=(()=>{let l=e;return new Je(l.handlers,l.dispatched_paths,i)})(),o=Ct(s.handlers,t+Hn+r);if(o.isOk()){let l=o[0];return[s,ut(n,l)]}else return[s,new j(f([]))]}function qr(e,t){return Xs(t,e.dispatched_paths)}function Ru(e,t){return ft(t,e)}function vo(e,t,r,n,i){return xt(e,Vn(r,n),Ru(t,i))}function er(e,t,r,n,i){let s=vo(e.handlers,t,r,n,i),o=e;return new Je(s,o.dispatched_paths,o.next_dispatched_paths)}function go(e,t,r,n){return ne(n,e,(i,s)=>{if(s instanceof Z){let o=s.name,l=s.handler;return vo(i,t,r,o,l)}else return i})}function nt(e,t){let r=wi(e,ie),n=wi(t,ie);return n?e:r&&!n?t:i=>e(t(i))}function bo(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(l.hasLength(0))return i;{let u=l.head,c=l.tail;e=ko(i,s,o,u),t=s,r=o+Oe(u),n=c}}}function ko(e,t,r,n){if(n instanceof Se){let i=n.attributes,s=n.children,o=rt(t,r,n.key),u=wo(e,o,i);return bo(u,o,0,s)}else if(n instanceof pe){let i=n.children;return bo(e,t,r+1,i)}else if(n instanceof Ne){let i=n.attributes,s=rt(t,r,n.key);return wo(e,s,i)}else return e}function tr(e,t,r,n){let i=ko(e.handlers,t,r,n),s=e;return new Je(i,s.dispatched_paths,s.next_dispatched_paths)}function bi(e,t,r,n,i){for(;;){let s=e,o=t,l=r,u=n,c=i;if(c.hasLength(0))return s;{let a=c.head,p=c.tail;e=jo(s,o,l,u,a),t=o,r=l,n=u+Oe(a),i=p}}}function jo(e,t,r,n,i){if(i instanceof Se){let s=i.attributes,o=i.children,l=rt(r,n,i.key),u=nt(t,i.mapper),a=go(e,u,l,s);return bi(a,u,l,0,o)}else if(i instanceof pe){let s=i.children,o=nt(t,i.mapper),l=n+1;return bi(e,o,r,l,s)}else if(i instanceof Ne){let s=i.attributes,o=rt(r,n,i.key),l=nt(t,i.mapper);return go(e,l,o,s)}else return e}function Dr(e,t,r,n,i){let s=jo(e.handlers,t,r,n,i),o=e;return new Je(s,o.dispatched_paths,o.next_dispatched_paths)}function uo(e,t,r,n,i){let s=bi(e.handlers,t,r,n,i),o=e;return new Je(s,o.dispatched_paths,o.next_dispatched_paths)}function ee(e,t,r){return Qt("",ie,"",e,t,r,ae(),!1,!1)}function xi(e,t,r,n){return Qt("",ie,e,t,r,n,ae(),!1,!1)}function Rr(e){return Qn("",ie,e)}function mo(){return Qn("",ie,"")}function Gu(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;if(r.atLeastLength(1)&&r.head instanceof pe){let i=r.head.children_count;e=r.tail,t=n+i}else e=r.tail,t=n+1}}function nr(e){return Yn("",ie,e,ae(),Gu(e,0))}function me(e){return Rr(e)}function Lo(e,t){return ee("footer",e,t)}function zo(e,t){return ee("header",e,t)}function Eo(e,t){return ee("h1",e,t)}function So(e,t){return ee("section",e,t)}function Bo(e,t){return ee("div",e,t)}function yi(e,t){return ee("li",e,t)}function Ao(e,t){return ee("ul",e,t)}function Co(e,t){return ee("a",e,t)}function To(e,t){return ee("span",e,t)}function No(e,t){return ee("strong",e,t)}function vi(e,t){return ee("button",e,t)}function or(e){return ee("input",e,L)}function ki(e,t){return ee("label",e,t)}var gt=class extends d{constructor(t){super(),this.message=t}},Nt=class extends d{constructor(t,r){super(),this.name=t,this.data=r}};var bt=class extends d{};var ji=class extends d{constructor(t,r,n,i,s,o,l,u){super(),this.open_shadow_root=t,this.adopt_styles=r,this.attributes=n,this.properties=i,this.is_form_associated=s,this.on_form_autofill=o,this.on_form_reset=l,this.on_form_restore=u}};function qo(e){let t=new ji(!1,!0,Or(),Or(),!1,Lr,Lr,Lr);return ne(e,t,(r,n)=>n.apply(r))}var Oi=class e{static start({init:t,update:r,view:n},i,s){if(!sr())return new j(new It);let o=i instanceof HTMLElement?i:document.querySelector(i);return o?new E(new e(o,t(s),r,n)):new j(new Wr(i))}#e;constructor(t,[r,n],i,s){this.#e=new ir(t,[r,n],s,i)}send(t){switch(t.constructor){case gt:{this.dispatch(t.message,!1);break}case Nt:{this.emit(t.name,t.data);break}case bt:break}}dispatch(t,r){this.#e.dispatch(t,r)}emit(t,r){this.#e.emit(t,r)}},Do=Oi.start;var Li=class extends d{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.config=i}};var Wr=class extends d{constructor(t){super(),this.selector=t}},It=class extends d{};function Uo(e,t,r){return new Li(e,t,r,qo(L))}function Po(e,t,r){return ar(!sr(),new j(new It),()=>Do(e,t,r))}function Ku(e){let t=[ae(),L,0],r=ne(e,t,(o,l)=>{let u=o[0],c=o[1],a=o[2],p=l[0],_=l[1],x=Zt(p,_);return[p===""?u:xt(u,p,x),h(x,c),a+1]}),n=r[0],i=r[1],s=r[2];return[n,M(i),s]}function Qu(e,t,r){let n=Ku(r),i=n[0],s=n[1];return Qt("",ie,"",e,t,s,i,!1,!1)}function Fo(e,t){return Qu("ul",e,t)}function yt(e,t){return qs(e,t)}function Hr(e){return yt("click",ct(e))}function Ro(e){return yt("blur",ct(e))}function ec(){return wn(f(["target","value"]),Et)}function Go(e){return yt("input",(()=>{let t=ec();return ft(t,e)})())}function tc(){return wn(f(["target","checked"]),us)}function zi(e){return yt("change",(()=>{let t=tc();return ft(t,e)})())}var Wo=e=>{let t=document.getElementById(e);t&&(t.value="")};var de=class extends d{constructor(t,r,n,i,s){super(),this.entries=t,this.active=r,this.completed=n,this.uid=i,this.visibility=s}},Ie=class extends d{constructor(t,r,n,i,s){super(),this.description=t,this.completed=r,this.editing=n,this.deleted=i,this.id=s}},lr=class extends d{},ur=class extends d{},Vr=class extends d{},Jr=class extends d{constructor(t){super(),this.value=t}},Yr=class extends d{},Xr=class extends d{constructor(t){super(),this.completed=t}},Kr=class extends d{constructor(t){super(),this.visibility=t}},Qr=class extends d{constructor(t){super(),this.index=t}},Zr=class extends d{constructor(t,r){super(),this.index=t,this.completed=r}},vt=class extends d{constructor(t,r){super(),this.index=t,this.editing=r}},Si=class extends d{constructor(t,r){super(),this.index=t,this.description=r}};function nc(e,t){return new Ie(e,!1,!1,!1,t)}function ic(e){return[new de(bs(),0,0,0,new lr),he()]}function sc(e){let t=e===1?"item":"items";return To(f([fe("todo-count")]),f([No(f([]),f([me(be(e))])),me(" "),me(t),me(" left")]))}function Ei(e,t,r){return yi(f([Hr(new Kr(t))]),f([Co(f([Gs(e),In(f([["selected",C(t,r)]]))]),f([t instanceof lr?me("All"):t instanceof ur?me("Active"):me("Completed")]))]))}function oc(e){return Ao(f([fe("filters")]),f([Ei("#/",new lr,e),Ei("#/active",new ur,e),Ei("#/completed",new Vr,e)]))}function Bi(e){return e?Ds(f([["display","none"]])):Us()}function lc(e){return vi(f([fe("clear-completed"),Bi(e===0),Hr(new Yr)]),f([me("Clear completed ("),me(be(e)),me(")")]))}function Ho(e){return yt("keydown",xr("keyCode",$r,t=>xn(f(["target","value"]),Et,r=>t===13?ct(e(r)):$n(e(r),"not enter"))))}function uc(){return zo(f([fe("header")]),f([Eo(f([]),f([me("todos")])),or(f([Mn("new-todo"),fe("new-todo"),Fs("What needs to be done?"),Un(!0),Ho(e=>new Jr(e))]))]))}function cc(e){return yt("dblclick",ct(e))}function fc(e){let t=e.description,r=e.completed,n=e.editing,i=e.id;return yi(f([In(f([["completed",r],["editing",n]]))]),f([e.editing?or(f([fe("edit"),Ps(t),Un(!0),Go(o=>new Si(i,o)),Ro(new vt(i,!1)),Ho(o=>new vt(i,!1))])):Bo(f([fe("view")]),f([or(f([fe("toggle"),qn("checkbox"),Dn(r),zi(o=>new Zr(i,o))])),ki(f([cc(new vt(i,!0))]),f([me(t)])),vi(f([fe("destroy"),Hr(new Qr(i))]),f([]))]))]))}function ac(e){let t=e.active+e.completed;return So(f([fe("main"),Bi(t<=0)]),f([or(f([Mn("toggle-all"),fe("toggle-all"),qn("checkbox"),Dn(e.active<=0),zi(r=>new Xr(r))])),ki(f([Rs("toggle-all")]),f([me("Mark all as complete")])),Fo(f([fe("todo-list")]),vs(e.entries,f([]),(r,n)=>(()=>{let s=e.visibility;return s instanceof Vr?n.completed&&!n.deleted:s instanceof ur?!n.completed&&!n.deleted:!n.deleted})()?h([be(n.id),fc(n)],r):r))]))}function pc(e){let t=e.active+e.completed;return nr(f([uc(),ac(e),Lo(f([fe("footer"),Bi(t<=0)]),f([sc(e.active),oc(e.visibility),lc(e.completed)]))]))}function dc(e){return Js(t=>Wo(e))}function _c(e,t){if(t instanceof Jr){let r=t.value,n=mn(r);return ar(n==="",[e,he()],()=>{let i=ys(e.entries,nc(n,e.uid)),s=e.uid+1,o=e.active+1;return[(()=>{let u=e;return new de(i,o,u.completed,s,u.visibility)})(),dc("new-todo")]})}else if(t instanceof Kr){let r=t.visibility;return[(()=>{let n=e;return new de(n.entries,n.active,n.completed,n.uid,r)})(),he()]}else if(t instanceof Xr){let r=t.completed,n=kn(e.entries,o=>{let l=o;return new Ie(l.description,r,l.editing,l.deleted,l.id)}),i=e.completed+e.active;return[(()=>{if(r){let o=e;return new de(n,0,i,o.uid,o.visibility)}else{let o=e;return new de(n,i,0,o.uid,o.visibility)}})(),he()]}else if(t instanceof Yr){let r=kn(e.entries,n=>{if(n instanceof Ie&&n.completed){let i=n;return new Ie(i.description,i.completed,i.editing,!0,i.id)}else return n});return[(()=>{let n=e;return new de(r,n.active,0,n.uid,n.visibility)})(),he()]}else if(t instanceof Qr){let r=t.index,n=yn(e.entries,r);if(n.isOk()&&!n[0].deleted){let i=n[0],s=vn(e.entries,r,(()=>{let l=i;return new Ie(l.description,l.completed,l.editing,!0,l.id)})());return[(()=>{if(i.completed){let u=e;return new de(s,u.active,e.completed-1,u.uid,u.visibility)}else{let u=e;return new de(s,e.active-1,u.completed,u.uid,u.visibility)}})(),he()]}else return[e,he()]}else if(t instanceof Zr){let r=t.index,n=t.completed,i=yn(e.entries,r);if(i.isOk()&&i[0].completed!==n){let s=i[0],o=vn(e.entries,r,(()=>{let u=s;return new Ie(u.description,n,u.editing,u.deleted,u.id)})());return[(()=>{if(n){let u=e.active-1,c=e.completed+1,a=e;return new de(o,u,c,a.uid,a.visibility)}else{let u=e.active+1,c=e.completed-1,a=e;return new de(o,u,c,a.uid,a.visibility)}})(),he()]}else return[e,he()]}else if(t instanceof vt&&t.editing){let r=t.index,n=Wt(e.entries,r,i=>{let s=i;return new Ie(s.description,s.completed,!0,s.deleted,s.id)});return[(()=>{let i=e;return new de(n,i.active,i.completed,i.uid,i.visibility)})(),he()]}else if(t instanceof vt&&!t.editing){let r=t.index,n=Wt(e.entries,r,i=>{let s=mn(i.description),o=i;return new Ie(s,o.completed,!1,o.deleted,o.id)});return[(()=>{let i=e;return new de(n,i.active,i.completed,i.uid,i.visibility)})(),he()]}else{let r=t.index,n=t.description,i=Wt(e.entries,r,s=>{let o=s;return new Ie(n,o.completed,o.editing,o.deleted,o.id)});return[(()=>{let s=e;return new de(i,s.active,s.completed,s.uid,s.visibility)})(),he()]}}function Vo(){let e=Uo(ic,_c,pc),t=Po(e,".todoapp",void 0);if(!t.isOk())throw pr("let_assert","todomvc",16,"main","Pattern match failed, no pattern matched the value.",{value:t})}Vo();
